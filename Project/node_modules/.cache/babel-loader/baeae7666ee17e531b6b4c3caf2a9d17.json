{"ast":null,"code":"import alert from '@/components/alert.vue';\nimport axios from 'axios';\nimport new_merchandise from '@/views/merchandise/new_merchandise.vue';\nimport new_stock from '@/views/merchandise/new_stock.vue';\nimport edit_merchandise from '@/views/merchandise/edit_merchandise.vue';\nimport edit_stock_item from '@/views/merchandise/edit_stock_item.vue';\nexport default {\n  name: \"menu_merchandise\",\n  components: {\n    new_merchandise,\n    new_stock,\n    edit_merchandise,\n    edit_stock_item\n  },\n  data: () => ({\n    dialog: false,\n    addNewMerchandise: false,\n    addNewStockItem: false,\n    editNewMerchandise: false,\n    editStockItem: false,\n    infoMerchandise: '',\n    infoStockMerchandise: '',\n    header_merchandises: [{\n      text: 'id',\n      align: 'start',\n      sortable: true,\n      value: 'id'\n    }, {\n      text: 'Libéllé',\n      value: 'title'\n    }, {\n      text: 'Categorie',\n      value: 'categorie'\n    }, {\n      text: 'Description',\n      value: 'description'\n    }, {\n      text: 'Date',\n      value: 'created_at'\n    }, {\n      text: 'action',\n      value: 'actions'\n    }],\n    merchandises: [],\n    stock_merchandises: [],\n    header_stocks: [{\n      text: 'id_stock',\n      align: 'start',\n      sortable: true,\n      value: 'id_stock'\n    }, {\n      text: 'Bien',\n      value: 'title'\n    }, {\n      text: 'Pu',\n      value: 'pu_by'\n    }, {\n      text: 'Qté',\n      value: 'amount_by'\n    }, {\n      text: 'Reduction',\n      value: 'decrease'\n    }, {\n      text: 'Prix Total',\n      value: 'total_price'\n    }, {\n      text: 'Date Enreg',\n      value: 'created_at'\n    }, {\n      text: 'fournisseur',\n      value: 'saler'\n    }, {\n      text: 'actions',\n      value: 'actions'\n    }]\n  }),\n  methods: {\n    async get_merchandise() {\n      try {\n        console.log(axios.getUri());\n        const response = await axios.post('merchandise/');\n        this.merchandises = response.data;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    async get_stock_merchandise() {\n      try {\n        const response = await axios.post('stock_merchandise/');\n        this.stock_merchandises = response.data;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    async deleteMerchandiseItem(info) {\n      try {\n        if (confirm(\"Voulez vous supprimer l'item \" + info.id)) {\n          const response = await axios.post('merchandise/delete/' + info.id);\n          this.get_merchandise();\n          alert(\"Suppression réussie\");\n        }\n      } catch (e) {\n        console.log(\"Il y a une erreur. Il est imposible de supprimer un bien présent en stock!\");\n      }\n    },\n\n    async deleteMerchandiseStockItem(info) {\n      try {\n        if (confirm(\"Voulez vous supprimer l'enregistrement de l'achat \" + info.id_stock)) {\n          const response = await axios.post('stock_merchandise/delete/' + info.id_stock);\n          this.get_stock_merchandise();\n          alert(\"Suppression réussie\");\n        }\n      } catch (e) {\n        console.log(\"Il y a une erreur est survenue!\");\n      }\n    },\n\n    edit_merchandise_Item(info) {\n      this.infoMerchandise = info;\n      this.editNewMerchandise = !this.editNewMerchandise;\n    },\n\n    edit_stock_merchandise_Item(info) {\n      this.infoStockMerchandise = info;\n      this.editStockItem = !this.editStockItem;\n    },\n\n    setEditNewMerchandise(payload) {\n      this.editNewMerchandise = payload.editNewMerchandise;\n      this.get_merchandise();\n    },\n\n    setEditStockItem(payload) {\n      this.editStockItem = payload.editStockItem;\n      this.get_stock_merchandise();\n    },\n\n    async getDashboardanalysis() {\n      try {\n        const response = await axios.post('lineInvoice/dashboardanalysis/' + this.getDate());\n        var result = response.data;\n        this.specificResult = [{\n          title: \"Total de produits achétés\",\n          color: \"#FD00FFFF\",\n          amounts: result.totalAmountby.totalAmountBought + ' Units'\n        }, {\n          title: 'Total de produits Vendus',\n          color: '#FF8800FF',\n          amounts: result.totalAmountSold.totalAmountSold + ' Units'\n        }, {\n          title: 'Le plus grand résulat réalisé',\n          color: '#00B8FFFF',\n          amounts: result.highSoldAchieved.result + ' $ '\n        }, {\n          title: 'Différence entre les achats et les ventes',\n          color: '#00FF69DE',\n          amounts: result.getResultInvoices[1].result + ' $ '\n        }];\n        this.DetailsItems = result.DetailsItems;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    getDate() {\n      var twoWeeks = 1000 * 60 * 60 * 24 * 14;\n      var twoWeeksTime = new Date(new Date().getTime() - twoWeeks);\n      var formattedDate = twoWeeksTime.getFullYear() + '-' + (twoWeeksTime.getMonth() + 1) + '-' + twoWeeksTime.getDate();\n      return formattedDate;\n    }\n\n  },\n\n  created() {\n    this.get_merchandise();\n    this.get_stock_merchandise();\n  }\n\n};","map":{"version":3,"mappings":"AAmDA;AACA;AACA;AACA;AACA;AACA;AAGA;EACAA,wBADA;EAEAC;IACAC,eADA;IAEAC,SAFA;IAGAC,gBAHA;IAIAC;EAJA,CAFA;EAQAC;IACAC,aADA;IAEAC,wBAFA;IAGAC,sBAHA;IAIAC,yBAJA;IAKAC,oBALA;IAMAC,mBANA;IAOAC,wBAPA;IAQAC,sBACA;MACAC,UADA;MAEAC,cAFA;MAGAC,cAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,CARA;IAqBAC,gBArBA;IAsBAC,sBAtBA;IAuBAC,gBACA;MACAN,gBADA;MAEAC,cAFA;MAGAC,cAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,EAYA;MAAAH;MAAAG;IAAA,CAZA,EAaA;MAAAH;MAAAG;IAAA,CAbA,EAcA;MAAAH;MAAAG;IAAA,CAdA;EAvBA,EARA;EAgDAI;IACA;MACA;QACAC;QACA;QACA;MACA,CAJA,CAIA;QACAA;MACA;IACA,CATA;;IAUA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAA;MACA;IACA,CAjBA;;IAkBA;MACA;QACA;UACA;UACA;UACAC;QACA;MACA,CANA,CAMA;QACAD;MACA;IACA,CA5BA;;IA6BA;MACA;QACA;UACA;UACA;UACAC;QACA;MACA,CANA,CAMA;QACAD;MACA;IACA,CAvCA;;IAwCAE;MACA;MACA;IACA,CA3CA;;IA2CAC;MACA;MACA;IACA,CA9CA;;IA+CAC;MACA;MACA;IACA,CAlDA;;IAmDAC;MACA;MACA;IACA,CAtDA;;IAuDA;MACA;QACA;QACA;QACA,uBACA;UAAAC;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAF;UAAAC;UAAAC;QAAA,CAFA,EAGA;UAAAF;UAAAC;UAAAC;QAAA,CAHA,EAIA;UAAAF;UAAAC;UAAAC;QAAA,CAJA;QAMA;MACA,CAVA,CAUA;QACAR;MACA;IACA,CArEA;;IAsEAS;MACA;MACA;MACA;MACA;IACA;;EA3EA,CAhDA;;EA6HAC;IACA;IACA;EACA;;AAhIA","names":["name","components","new_merchandise","new_stock","edit_merchandise","edit_stock_item","data","dialog","addNewMerchandise","addNewStockItem","editNewMerchandise","editStockItem","infoMerchandise","infoStockMerchandise","header_merchandises","text","align","sortable","value","merchandises","stock_merchandises","header_stocks","methods","console","alert","edit_merchandise_Item","edit_stock_merchandise_Item","setEditNewMerchandise","setEditStockItem","title","color","amounts","getDate","created"],"sourceRoot":"src/views/merchandise","sources":["menu_merchandise.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <v-subheader class=\"d-flex justify-space-between align-center\">\r\n      <h3>Dashboard</h3>\r\n      <v-btn color=\"#ffff\" link to=\"/merchandise\">\r\n        Voir Details\r\n      </v-btn>\r\n    </v-subheader>\r\n    <v-row>\r\n      <v-col lg=\"6\" cols=\"12\">\r\n        <v-alert dense type=\"success\" color=\"#0091EA\">\r\n          Connexion réussie avec succès <strong>Bon travail</strong> !\r\n        </v-alert>\r\n        <v-row>\r\n          <v-col lg=\"4\" cols=\"12\" v-for=\"(item, index) in specificResult\" :key=\"index\">\r\n            <v-card elevation=\"4\" class=\"rounded-lg\">\r\n              <v-card-text class=\"d-flex justify-space-between align-center\">\r\n                <div class=\"inline\">\r\n                  <strong>{{ item.title }}</strong>\r\n                  <small> (2 dernières semaines)</small>\r\n                </div>\r\n                <v-avatar :color=\"item.color\" size=\"60\">\r\n                  <span class=\"\">{{ item.amounts }}</span>\r\n                </v-avatar>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n      <v-col lg=\"6\" cols=\"12\">\r\n        <v-card>\r\n          <v-card-title>Biens auquels sont liés les activités</v-card-title>\r\n          <v-timeline dense>\r\n            <v-timeline-item v-for=\"item in DetailsItems\" :key=\"item.id\">\r\n              <span slot=\"opposite\">item.title</span>\r\n              <v-card class=\"elevation-2\">\r\n                <v-card-title class=\"text-h5\">\r\n                  {{ item.categorie }}\r\n                </v-card-title>\r\n                <v-card-text>\r\n                  {{ item.description }}\r\n                </v-card-text>\r\n              </v-card>\r\n            </v-timeline-item>\r\n          </v-timeline>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport alert from '@/components/alert.vue'\r\nimport axios from 'axios'\r\nimport new_merchandise from '@/views/merchandise/new_merchandise.vue'\r\nimport new_stock from '@/views/merchandise/new_stock.vue'\r\nimport edit_merchandise from '@/views/merchandise/edit_merchandise.vue'\r\nimport edit_stock_item from '@/views/merchandise/edit_stock_item.vue'\r\n\r\n\r\nexport default {\r\n  name: \"menu_merchandise\",\r\n  components: {\r\n\t\tnew_merchandise,\r\n\t\tnew_stock,\r\n\t\tedit_merchandise,\r\n\t\tedit_stock_item\r\n\t},\r\n  data: () => ({\r\n    dialog: false,\r\n\t\taddNewMerchandise: false,\r\n\t\taddNewStockItem: false,\r\n\t\teditNewMerchandise: false,\r\n\t\teditStockItem: false,\r\n\t\tinfoMerchandise: '',\r\n\t\tinfoStockMerchandise: '',\r\n\t\theader_merchandises: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'id',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: true,\r\n\t\t\t\tvalue: 'id',\r\n\t\t\t},\r\n\t\t\t{ text: 'Libéllé', value: 'title' },\r\n\t\t\t{ text: 'Categorie', value: 'categorie' },\r\n\t\t\t{ text: 'Description', value: 'description' },\r\n\t\t\t{ text: 'Date', value: 'created_at' },\r\n\t\t\t{ text: 'action', value: 'actions' },\r\n\t\t],\r\n\t\tmerchandises: [],\r\n\t\tstock_merchandises: [],\r\n\t\theader_stocks: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'id_stock',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: true,\r\n\t\t\t\tvalue: 'id_stock',\r\n\t\t\t},\r\n\t\t\t{ text: 'Bien', value: 'title' },\r\n\t\t\t{ text: 'Pu', value: 'pu_by' },\r\n\t\t\t{ text: 'Qté', value: 'amount_by' },\r\n\t\t\t{ text: 'Reduction', value: 'decrease' },\r\n\t\t\t{ text: 'Prix Total', value: 'total_price' },\r\n\t\t\t{ text: 'Date Enreg', value: 'created_at' },\r\n\t\t\t{ text: 'fournisseur', value: 'saler' },\r\n\t\t\t{ text: 'actions', value: 'actions' },\r\n\t\t],\r\n  }),\r\n  methods: {\r\n    async get_merchandise() {\r\n\t\t\ttry { \r\n\t\t\t\tconsole.log(axios.getUri())\r\n\t\t\t\tconst response = await axios.post('merchandise/')\r\n\t\t\t\tthis.merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('stock_merchandise/')\r\n\t\t\t\tthis.stock_merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteMerchandiseItem(info) {\r\n\t\t\ttry {\r\n\t\t\t\tif (confirm(\"Voulez vous supprimer l'item \" + info.id)) {\r\n\t\t\t\t\tconst response = await axios.post('merchandise/delete/' + info.id)\r\n\t\t\t\t\tthis.get_merchandise()\r\n\t\t\t\t\talert(\"Suppression réussie\")\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"Il y a une erreur. Il est imposible de supprimer un bien présent en stock!\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteMerchandiseStockItem(info) {\r\n\t\t\ttry {\r\n\t\t\t\tif (confirm(\"Voulez vous supprimer l'enregistrement de l'achat \" + info.id_stock)) {\r\n\t\t\t\t\tconst response = await axios.post('stock_merchandise/delete/' + info.id_stock)\r\n\t\t\t\t\tthis.get_stock_merchandise()\r\n\t\t\t\t\talert(\"Suppression réussie\")\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"Il y a une erreur est survenue!\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tedit_merchandise_Item(info) {\r\n\t\t\tthis.infoMerchandise = info\r\n\t\t\tthis.editNewMerchandise = !this.editNewMerchandise\r\n\t\t}, edit_stock_merchandise_Item(info) {\r\n\t\t\tthis.infoStockMerchandise = info\r\n\t\t\tthis.editStockItem = !this.editStockItem\r\n\t\t},\r\n\t\tsetEditNewMerchandise(payload) {\r\n\t\t\tthis.editNewMerchandise = payload.editNewMerchandise\r\n\t\t\tthis.get_merchandise()\r\n\t\t},\r\n\t\tsetEditStockItem(payload) {\r\n\t\t\tthis.editStockItem = payload.editStockItem\r\n\t\t\tthis.get_stock_merchandise()\r\n\t\t},\r\n    async getDashboardanalysis() {\r\n      try {\r\n        const response = await axios.post('lineInvoice/dashboardanalysis/' + this.getDate())\r\n        var result = response.data\r\n        this.specificResult = [\r\n          { title: \"Total de produits achétés\", color: \"#FD00FFFF\", amounts: result.totalAmountby.totalAmountBought + ' Units' },\r\n          { title: 'Total de produits Vendus', color: '#FF8800FF', amounts: result.totalAmountSold.totalAmountSold + ' Units' },\r\n          { title: 'Le plus grand résulat réalisé', color: '#00B8FFFF', amounts: result.highSoldAchieved.result + ' $ ' },\r\n          { title: 'Différence entre les achats et les ventes', color: '#00FF69DE', amounts: result.getResultInvoices[1].result + ' $ ' },\r\n        ]\r\n        this.DetailsItems = result.DetailsItems\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    getDate() {\r\n      var twoWeeks = 1000 * 60 * 60 * 24 * 14;\r\n      var twoWeeksTime = new Date(new Date().getTime() - twoWeeks);\r\n      var formattedDate = twoWeeksTime.getFullYear() + '-' + (twoWeeksTime.getMonth() + 1) + '-' + twoWeeksTime.getDate();\r\n      return formattedDate\r\n    }\r\n  },\r\n  created() {\r\n    this.get_merchandise();\r\n\t\tthis.get_stock_merchandise()\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}