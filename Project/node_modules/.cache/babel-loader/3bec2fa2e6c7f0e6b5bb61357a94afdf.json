{"ast":null,"code":"import router from '@/router';\nimport axios from 'axios';\nexport default {\n  name: \"editdeclarant\",\n  data: () => ({\n    idDec: '',\n    firstname: '',\n    lastname: '',\n    email: '',\n    password: '',\n    idDeclarant: '',\n    created_at: '',\n    scope: '',\n    professsion: '',\n    bornin: '',\n    etat_civil: '',\n    sexe: '',\n    residence: '',\n    idUser: '',\n    itemsEtatCivil: [{\n      scope: 'marie',\n      title: 'Marié'\n    }, {\n      scope: 'celibat',\n      title: 'Celibataire'\n    }],\n    itemsSexe: [{\n      scope: 'masculin',\n      title: 'Masculin'\n    }, {\n      scope: 'feminin',\n      title: 'Féminin'\n    }],\n    msgAlert: ''\n  }),\n  methods: {\n    changetypefonction() {\n      this.typeAlert = '';\n      this.msgAlert = '';\n    },\n\n    initializeFields() {\n      this.professsion = '';\n      this.bornin = '';\n      this.idDeclarant = '';\n      this.etat_civil = '';\n      this.sexe = '';\n      this.residence = '';\n    },\n\n    async getDeclarant() {\n      let paramId = router.currentRoute.params.idDecl;\n\n      if (paramId != null) {\n        const response = await axios.post('user/oneDeclarant/' + paramId);\n        console.log(response.data.professsion);\n        this.professsion = response.data.professsion;\n        this.bornin = response.data.bornin;\n        this.idDeclarant = paramId;\n        this.etat_civil = response.data.etat_civil;\n        this.sexe = response.data.sexe;\n        this.residence = response.data.residence;\n      }\n    },\n\n    async editMethod() {\n      this.changetypefonction();\n\n      if (this.idDeclarant == \"\") {\n        this.typeAlert = \"error\";\n        this.msgAlert = \"Veuillez d'abord saisir un identifiant\";\n      }\n\n      if (this.sexe == '') {\n        this.typeAlert = \"error\";\n        this.msgAlert = \"Veuillez choisir le genre !\";\n        return;\n      }\n\n      if (this.etat_civil == '') {\n        this.typeAlert = \"error\";\n        this.msgAlert = \"Veuillez choisir l'etat civil svp!\";\n        return;\n      }\n\n      if (this.bornin == '') {\n        this.typeAlert = \"error\";\n        this.msgAlert = \"Veuillez entrer une date de naissance svp!\";\n      }\n\n      if (this.professsion == '') {\n        this.typeAlert = \"error\";\n        this.msgAlert = \"Veuillez definir la professsion!\";\n        return;\n      }\n\n      try {\n        const formData = new FormData();\n        formData.append('professsion', this.professsion);\n        formData.append('residence', this.residence);\n        formData.append('etat_civil', this.etat_civil);\n        formData.append('sexe', this.sexe);\n        formData.append('idDeclarant', this.idDeclarant);\n        formData.append('bornin', this.bornin);\n        const response = await axios.post('user/editDeclarant/', formData);\n\n        if (response.data.errorstate == true) {\n          this.typeAlert = 'error';\n          this.msgAlert = response.data.error;\n          return;\n        }\n\n        this.msgAlert = 'Declarant edité avec succés';\n        this.typeAlert = 'info';\n        this.initializeFields();\n      } catch (e) {}\n    }\n\n  },\n\n  beforeMount() {\n    this.getDeclarant();\n  }\n\n};","map":{"version":3,"mappings":"AAqCA;AACA;AACA;EACAA,qBADA;EAEAC;IACAC,SADA;IAEAC,aAFA;IAGAC,YAHA;IAIAC,SAJA;IAKAC,YALA;IAMAC,eANA;IAOAC,cAPA;IAQAC,SARA;IASAC,eATA;IAUAC,UAVA;IAWAC,cAXA;IAYAC,QAZA;IAaAC,aAbA;IAcAC,UAdA;IAeAC,iBACA;MACAP,cADA;MAEAQ;IAFA,CADA,EAKA;MACAR,gBADA;MAEAQ;IAFA,CALA,CAfA;IA0BAC,YACA;MACAT,iBADA;MAEAQ;IAFA,CADA,EAKA;MACAR,gBADA;MAEAQ;IAFA,CALA,CA1BA;IAoCAE;EApCA,EAFA;EAyCAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAZA;;IAaA;MACA;;MACA;QACA;QACAC;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA,CAzBA;;IA0BA;MACA;;MACA;QACA;QACA;MACA;;MAEA;QACA;QACA;QACA;MACA;;MACA;QACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;QACA;MACA;;MACA;QACA;QAEAC;QACAA;QACAA;QACAA;QACAA;QACAA;QACA;;QAEA;UACA;UACA;UACA;QACA;;QACA;QACA;QACA;MAEA,CApBA,CAoBA,WACA;IACA;;EA1EA,CAzCA;;EAqHAC;IACA;EACA;;AAvHA","names":["name","data","idDec","firstname","lastname","email","password","idDeclarant","created_at","scope","professsion","bornin","etat_civil","sexe","residence","idUser","itemsEtatCivil","title","itemsSexe","msgAlert","methods","changetypefonction","initializeFields","console","formData","beforeMount"],"sourceRoot":"src/views/declarant","sources":["edit.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<h5>Editer un déclarant</h5>\r\n\t\t<form @submit.prevent=\"editMethod()\" method=\"post\">\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col lg=\"6\" cols=\"12\">\r\n\t\t\t\t\t<v-text-field v-model=\"idDeclarant\" disabled label=\"idDeclarant\" required> </v-text-field>\r\n\t\t\t\t\t<v-text-field v-model=\"professsion\" label=\"Profession\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col lg=\"6\" cols=\"12\">\r\n\t\t\t\t\t<v-text-field v-model=\"residence\" label=\"Residence\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t\t\t<v-select name=\"\" v-model=\"sexe\" :items=\"itemsSexe\" item-text=\"title\" label=\"Genre\"\r\n\t\t\t\t\t\titem-value=\"scope\">\r\n\t\t\t\t\t</v-select>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col lg=\"6\" cols=\"12\">\r\n\t\t\t\t\t<v-select name=\"\" v-model=\"etat_civil\" :items=\"itemsEtatCivil\" item-text=\"title\"\r\n\t\t\t\t\t\tlabel=\"Selectionner Etat civil\" item-value=\"scope\">\r\n\t\t\t\t\t</v-select>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col lg=\"6\" cols=\"12\">\r\n\t\t\t\t\t<v-text-field v-model=\"bornin\" label=\"DateNaissance\" required type=\"date\"> </v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\r\n\t\t\t<v-alert :type=\"typeAlert\" v-if=\"msgAlert\" class=\"mb-4\">\r\n\t\t\t\t{{ msgAlert }}\r\n\t\t\t</v-alert>\r\n\t\t\t<v-btn type=\"submit\" color=\"blue\" class=\"mr-4 mt-4 center\">\r\n\t\t\t\tEditer\r\n\t\t\t</v-btn>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport router from '@/router';\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"editdeclarant\",\r\n\tdata: () => ({\r\n\t\tidDec: '',\r\n\t\tfirstname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tidDeclarant: '',\r\n\t\tcreated_at: '',\r\n\t\tscope: '',\r\n\t\tprofesssion: '',\r\n\t\tbornin: '',\r\n\t\tetat_civil: '',\r\n\t\tsexe: '',\r\n\t\tresidence: '',\r\n\t\tidUser: '',\r\n\t\titemsEtatCivil: [\r\n\t\t\t{\r\n\t\t\t\tscope: 'marie',\r\n\t\t\t\ttitle: 'Marié'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tscope: 'celibat',\r\n\t\t\t\ttitle: 'Celibataire'\r\n\t\t\t},\r\n\r\n\t\t],\r\n\t\titemsSexe: [\r\n\t\t\t{\r\n\t\t\t\tscope: 'masculin',\r\n\t\t\t\ttitle: 'Masculin'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tscope: 'feminin',\r\n\t\t\t\ttitle: 'Féminin'\r\n\t\t\t},\r\n\t\t],\r\n\t\tmsgAlert: '',\r\n\r\n\t}),\r\n\tmethods: {\r\n\t\tchangetypefonction() {\r\n\t\t\tthis.typeAlert = ''\r\n\t\t\tthis.msgAlert = ''\r\n\t\t},\r\n\t\tinitializeFields() {\r\n\t\t\tthis.professsion = ''\r\n\t\t\tthis.bornin = ''\r\n\t\t\tthis.idDeclarant = ''\r\n\t\t\tthis.etat_civil = ''\r\n\t\t\tthis.sexe = ''\r\n\t\t\tthis.residence = ''\r\n\t\t},\r\n\t\tasync getDeclarant() {\r\n\t\t\tlet paramId = router.currentRoute.params.idDecl\r\n\t\t\tif (paramId != null) {\r\n\t\t\t\tconst response = await axios.post('user/oneDeclarant/' + paramId)\r\n\t\t\t\tconsole.log(response.data.professsion)\r\n\t\t\t\tthis.professsion = response.data.professsion\r\n\t\t\t\tthis.bornin = response.data.bornin\r\n\t\t\t\tthis.idDeclarant = paramId\r\n\t\t\t\tthis.etat_civil = response.data.etat_civil\r\n\t\t\t\tthis.sexe = response.data.sexe\r\n\t\t\t\tthis.residence = response.data.residence  \r\n\t\t\t}\r\n\t\t},\r\n\t\tasync editMethod() {\r\n\t\t\tthis.changetypefonction()\r\n\t\t\tif (this.idDeclarant == \"\") {\r\n\t\t\t\tthis.typeAlert = \"error\"\r\n\t\t\t\tthis.msgAlert = \"Veuillez d'abord saisir un identifiant\"\r\n\t\t\t}\r\n\r\n\t\t\tif (this.sexe == '') {\r\n\t\t\t\tthis.typeAlert = \"error\"\r\n\t\t\t\tthis.msgAlert = \"Veuillez choisir le genre !\"\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (this.etat_civil == '') {\r\n\t\t\t\tthis.typeAlert = \"error\"\r\n\t\t\t\tthis.msgAlert = \"Veuillez choisir l'etat civil svp!\"\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (this.bornin == '') {\r\n\t\t\t\tthis.typeAlert = \"error\"\r\n\t\t\t\tthis.msgAlert = \"Veuillez entrer une date de naissance svp!\"\r\n\t\t\t}\r\n\t\t\tif (this.professsion == '') {\r\n\t\t\t\tthis.typeAlert = \"error\"\r\n\t\t\t\tthis.msgAlert = \"Veuillez definir la professsion!\"\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\r\n\t\t\t\tformData.append('professsion', this.professsion)\r\n\t\t\t\tformData.append('residence', this.residence)\r\n\t\t\t\tformData.append('etat_civil', this.etat_civil)\r\n\t\t\t\tformData.append('sexe', this.sexe)\r\n\t\t\t\tformData.append('idDeclarant', this.idDeclarant)\r\n\t\t\t\tformData.append('bornin', this.bornin)\r\n\t\t\t\tconst response = await axios.post('user/editDeclarant/', formData)\r\n\r\n\t\t\t\tif ((response.data.errorstate) == true) {\r\n\t\t\t\t\tthis.typeAlert = 'error'\r\n\t\t\t\t\tthis.msgAlert = response.data.error\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgAlert = 'Declarant edité avec succés'\r\n\t\t\t\tthis.typeAlert = 'info'\r\n\t\t\t\tthis.initializeFields()\r\n\r\n\t\t\t} catch (e) {\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.getDeclarant()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\nh5 {\r\n\tcolor: rgb(70, 64, 64);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}