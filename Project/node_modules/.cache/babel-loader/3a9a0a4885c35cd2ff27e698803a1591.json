{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"new_stock\",\n  props: [\"prop_merchandises\"],\n  data: () => ({\n    firstname: '',\n    lastname: '',\n    email: '',\n    password: '',\n    created_at: '',\n    scope: [{\n      Agent: 'agent'\n    }, {\n      Déclarant: 'dec'\n    }]\n  }),\n\n  mounted() {\n    this.prop_merchandises.forEach(element => {\n      this.merchandises_title.push(element.title);\n    });\n  },\n\n  methods: {\n    findIdMerchandise() {\n      this.prop_merchandises.forEach(element => {\n        if (element.title == this.title_merchandise) {\n          this.id_merchandise = element.id;\n        }\n      });\n    },\n\n    async addMethod() {\n      try {\n        if (this.id_merchandise != '') {\n          const formData = new FormData();\n          formData.append('id_merchandise', this.id_merchandise);\n          formData.append('pu_by', this.pu_by);\n          formData.append('decrease', this.decrease);\n          formData.append('amount_by', this.amount_by);\n          formData.append('created_at', this.date);\n          formData.append('description', this.description);\n          formData.append('saler', this.saler);\n          const response = await axios.post('stock_merchandise/create', formData);\n          alert(response.data.amount_by + \" de \" + this.title_merchandise + \" achété(s) avec succès\");\n        } else {\n          alert(\"Veuillez compléter le formulaire comme il se doit, surtout ne pas oublier de selectionner un bien!\");\n        }\n      } catch (e) {\n        alert(e);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiBA;AACA;EACAA,iBADA;EAEAC,4BAFA;EAGAC;IACAC,aADA;IAEAC,YAFA;IAGAC,SAHA;IAIAC,YAJA;IAKAC,cALA;IAMAC,QACA;MAAAC;IAAA,CADA,EAEA;MAAAC;IAAA,CAFA;EANA,EAHA;;EAcAC;IACA;MACA;IACA,CAFA;EAGA,CAlBA;;EAmBAC;IACAC;MACA;QACA;UACA;QACA;MACA,CAJA;IAKA,CAPA;;IASA;MACA;QACA;UACA;UACAC;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACA;UACAC;QACA,CAXA,MAWA;UACAA;QACA;MACA,CAfA,CAeA;QACAA;MACA;IACA;;EA5BA;AAnBA","names":["name","props","data","firstname","lastname","email","password","created_at","scope","Agent","Déclarant","mounted","methods","findIdMerchandise","formData","alert"],"sourceRoot":"src/views/admin","sources":["addaccount.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<form @submit.prevent=\"addMethod()\" method=\"post\">\r\n\t\t\t<v-text-field v-model=\"firstname\" label=\"Nom d'utilisateur\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"lastname\" label=\"Nom complet\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"email\" label=\"Adresse email\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t<v-select :items=\"scope\" v-model=\"saler\" label=\"Type d'utilisateur\" required></v-select> \r\n\r\n\t\t\t<v-select :items=\"scope\" item-text=\"title\" v-model=\"id_stock\" item-value=\"id_stock\" label=\"Item\">\r\n\t\t\t\t\t</v-select>\r\n\t\t\t<v-btn type=\"submit\" @click=\"findIdMerchandise()\" class=\"mr-4 center\">\r\n\t\t\t\tEnregistrer\r\n\t\t\t</v-btn>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"new_stock\",\r\n\tprops: [\"prop_merchandises\"],\r\n\tdata: () => ({\r\n\t\tfirstname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tcreated_at: '',\r\n\t\tscope:[\r\n\t\t\t{Agent : 'agent'},\r\n\t\t\t{Déclarant : 'dec'},\r\n\t\t]\r\n\t}),\r\n\tmounted() {\r\n\t\tthis.prop_merchandises.forEach(element => {\r\n\t\t\tthis.merchandises_title.push(element.title)\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tfindIdMerchandise() {\r\n\t\t\tthis.prop_merchandises.forEach(element => {\r\n\t\t\t\tif (element.title == this.title_merchandise) {\r\n\t\t\t\t\tthis.id_merchandise = element.id\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tasync addMethod() {\r\n\t\t\ttry {\r\n\t\t\t\tif (this.id_merchandise != '') {\r\n\t\t\t\t\tconst formData = new FormData()\r\n\t\t\t\t\tformData.append('id_merchandise', this.id_merchandise)\r\n\t\t\t\t\tformData.append('pu_by', this.pu_by)\r\n\t\t\t\t\tformData.append('decrease', this.decrease)\r\n\t\t\t\t\tformData.append('amount_by', this.amount_by)\r\n\t\t\t\t\tformData.append('created_at', this.date)\r\n\t\t\t\t\tformData.append('description', this.description)\r\n\t\t\t\t\tformData.append('saler', this.saler)\r\n\t\t\t\t\tconst response = await axios.post('stock_merchandise/create', formData)\r\n\t\t\t\t\talert(response.data.amount_by + \" de \" + this.title_merchandise + \" achété(s) avec succès\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Veuillez compléter le formulaire comme il se doit, surtout ne pas oublier de selectionner un bien!\")\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}