{"ast":null,"code":"export default {\n  name: \"new_stock\",\n  props: [\"prop_merchandises\"],\n  data: () => ({\n    title_merchandise: '',\n    id_merchandise: '',\n    description: '',\n    date: '',\n    decrease: '',\n    pu_by: '',\n    merchandises_id: [],\n    merchandises_title: [],\n    amount_by: '',\n    items_salers: ['Bralima', 'Shalina', 'Dar-salem', 'Kivu Busness']\n  }),\n\n  mounted() {\n    this.prop_merchandises.forEach(element => {\n      this.merchandises_title.push(element.title);\n    });\n  },\n\n  methods: {\n    async submit_stock() {\n      this.prop_merchandises.forEach(element => {\n        if (element.title == this.title_merchandise) {\n          this.id_merchandise = element.id;\n        }\n      });\n\n      try {\n        if (this.id_merchandise != null) {\n          const formData = new FormData();\n          formData.append('id_merchandise', this.id_merchandise);\n          formData.append('pu_by', this.pu_by);\n          formData.append('decrease', this.decrease);\n          formData.append('amount_by', this.amount_by);\n          formData.append('created_at');\n          formData.append('description', this.description);\n          formData.append('saler', this.saler);\n          formData.append('categorie', this.categorie);\n          const response = await axios.post('stock_merchandise/create', formData);\n        } else {\n          alert(\"Veuillez compléter le formulaire comme il se doit!\");\n        }\n      } catch (e) {\n        alert(e);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoBA;EACAA,iBADA;EAEAC,4BAFA;EAGAC;IACAC,qBADA;IAEAC,kBAFA;IAGAC,eAHA;IAIAC,QAJA;IAKAC,YALA;IAMAC,SANA;IAOAC,mBAPA;IAQAC,sBARA;IASAC,aATA;IAUAC;EAVA,EAHA;;EAeAC;IACA;MACA;IACA,CAFA;EAGA,CAnBA;;EAoBAC;IACA;MACA;QACA;UACA;QACA;MACA,CAJA;;MAKA;QACA;UACA;UACAC;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACA;QACA,CAXA,MAWA;UACAC;QACA;MAEA,CAhBA,CAgBA;QACAA;MACA;IACA;;EA1BA;AApBA","names":["name","props","data","title_merchandise","id_merchandise","description","date","decrease","pu_by","merchandises_id","merchandises_title","amount_by","items_salers","mounted","methods","formData","alert"],"sourceRoot":"src/views/merchandise","sources":["new_stock.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<form @submit.prevent=\"submit_stock()\" method=\"post\">\r\n\t\t\t<v-select :items=\"merchandises_title\" v-model=\"title_merchandise\" label=\"Bien à stocker\"></v-select>\r\n\t\t\t<v-text-field v-model=\"description\" label=\"Description\" required :counter=\"255\"> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"date\" type=\"date\" label=\"Date\" required> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"pu_by\" label=\"Prix unitaire ($)\" required type=\"number\"> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"amount_by\" type=\"number\" label=\"Nbre d'unités\"> </v-text-field>\r\n\t\t\t<v-text-field v-model=\"decrease\" type=\"number\" label=\"Reduction reçue sur le prix\"> </v-text-field>\r\n\t\t\t<v-select :items=\"items_salers\" label=\"Fournisseur\" required></v-select>\r\n\t\t\t<v-alert dense  type=\"info\" color=\"#717175\">\r\n\t\t\t\tLe prix total de cet achat vaut {{pu_by*amount_by-decrease}}\r\n\t\t\t</v-alert>\r\n\t\t\t<v-btn type=\"submit\" class=\"mr-4 center\">\r\n\t\t\t\tEnregistrer\r\n\t\t\t</v-btn>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n<script>\r\nexport default {\r\n\tname: \"new_stock\",\r\n\tprops: [\"prop_merchandises\"],\r\n\tdata: () => ({\r\n\t\ttitle_merchandise: '',\r\n\t\tid_merchandise: '',\r\n\t\tdescription: '',\r\n\t\tdate: '',\r\n\t\tdecrease: '',\r\n\t\tpu_by: '',\r\n\t\tmerchandises_id: [],\r\n\t\tmerchandises_title: [],\r\n\t\tamount_by: '',\r\n\t\titems_salers: ['Bralima', 'Shalina', 'Dar-salem', 'Kivu Busness'],\r\n\t}),\r\n\tmounted() {\r\n\t\tthis.prop_merchandises.forEach(element => {\r\n\t\t\tthis.merchandises_title.push(element.title)\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tasync submit_stock() {\r\n\t\t\tthis.prop_merchandises.forEach(element => {\r\n\t\t\t\tif (element.title == this.title_merchandise) {\r\n\t\t\t\t\tthis.id_merchandise = element.id\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttry { \r\n\t\t\t\tif(this.id_merchandise!=null){\r\nconst formData = new FormData()\r\n\t\t\t\tformData.append('id_merchandise', this.id_merchandise)\r\n\t\t\t\tformData.append('pu_by', this.pu_by)\r\n\t\t\t\tformData.append('decrease', this.decrease)\r\n\t\t\t\tformData.append('amount_by', this.amount_by)\r\n\t\t\t\tformData.append('created_at',)\r\n\t\t\t\tformData.append('description', this.description)\r\n\t\t\t\tformData.append('saler', this.saler)\r\n\t\t\t\tformData.append('categorie', this.categorie)\r\n\t\t\t\tconst response = await axios.post('stock_merchandise/create', formData)\r\n\t\t\t\t}else{\r\n\t\t\t\t\talert(\"Veuillez compléter le formulaire comme il se doit!\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}