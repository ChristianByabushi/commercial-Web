{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"analysis\",\n  data: () => ({\n    header_invoices: [{\n      text: 'Facture Idop',\n      value: 'id_line'\n    }, {\n      text: 'Pu',\n      value: 'created_at'\n    }, {\n      text: 'Item',\n      value: 'title'\n    }, {\n      text: 'pu_by',\n      value: 'pu_by'\n    }, {\n      text: 'amount_by',\n      value: 'amount_by'\n    }, {\n      text: 'price_by',\n      value: 'price_by'\n    }, {\n      text: 'pu_sale',\n      value: 'pu_sale'\n    }, {\n      text: 'pu_sale',\n      value: 'pu_sale'\n    }, {\n      text: 'amount_sale',\n      value: 'amount_sale'\n    }, {\n      text: 'Prix Total',\n      value: 'result'\n    }],\n    list_invoices: [],\n    created_at: new Date().toJSON().slice(0, 10).replace(/-/g, '-'),\n    itemSelected: '',\n    merchandises: []\n  }),\n  methods: {\n    async getAllInvoices() {\n      try {\n        const formData = new FormData();\n        formData.append(\"created_at\", this.created_at);\n        formData.append(\"itemSelected\", this.itemSelected);\n        const response = await axios.post('lineInvoice/getResultInvoices', formData);\n        this.list_invoices = response.data;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    async get_stock_merchandise() {\n      try {\n        const response = await axios.post('merchandise/');\n        this.merchandises = response.data;\n      } catch (e) {\n        alert(e);\n      }\n    },\n\n    actualiser() {\n      this.created_at = '';\n      this.itemSelected = '';\n      this.getAllInvoices();\n    }\n\n  },\n\n  created() {\n    this.getAllInvoices();\n    this.get_stock_merchandise();\n  }\n\n};","map":{"version":3,"mappings":"AA0CA;AACA;EACAA,gBADA;EAEAC;IACAC,kBACA;MAAAC;MAAAC;IAAA,CADA,EAEA;MAAAD;MAAAC;IAAA,CAFA,EAGA;MAAAD;MAAAC;IAAA,CAHA,EAIA;MAAAD;MAAAC;IAAA,CAJA,EAKA;MAAAD;MAAAC;IAAA,CALA,EAMA;MAAAD;MAAAC;IAAA,CANA,EAOA;MAAAD;MAAAC;IAAA,CAPA,EAQA;MAAAD;MAAAC;IAAA,CARA,EASA;MAAAD;MAAAC;IAAA,CATA,EAUA;MAAAD;MAAAC;IAAA,CAVA,CADA;IAaAC,iBAbA;IAcAC,+DAdA;IAeAC,gBAfA;IAgBAC;EAhBA,EAFA;EAoBAC;IACA;MACA;QACA;QACAC;QACAA;QACA;QACA;MACA,CANA,CAMA;QACAC;MACA;IACA,CAXA;;IAYA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAC;MACA;IACA,CAnBA;;IAoBAC;MACA;MACA;MACA;IACA;;EAxBA,CApBA;;EA8CAC;IACA;IACA;EACA;;AAjDA","names":["name","data","header_invoices","text","value","list_invoices","created_at","itemSelected","merchandises","methods","formData","console","alert","actualiser","created"],"sourceRoot":"src/views/analysis","sources":["analysis.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Analyses</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-alert dense type=\"info\" color=\"#757575\">\r\n\t\t\tCette partie contient les fonctionnalités sur l'analyse du déroulement des activités et des résulats sur les\r\n\t\t\tstocks et les vantes\r\n\t\t</v-alert>\r\n\r\n\t\t<v-card>\r\n\t\t\t<v-card-title style=\"display : inline\">\r\n\t\t\t\tMouvement des stocks des biens\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-row class=\"ml-5\">\r\n\t\t\t\t<v-col cols=\"5\" sm=\"3\">\r\n\t\t\t\t\t<v-select :items=\"merchandises\" item-text=\"title\" @change=\"getAllInvoices()\" v-model=\"itemSelected\"\r\n\t\t\t\t\t\titem-value=\"id\" label=\"Item à considérer\">\r\n\t\t\t\t\t</v-select>\r\n\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"6\" sm=\"4\">\r\n\t\t\t\t\t<v-text-field v-model=\"created_at\" type=\"date\" @change=\"getAllInvoices()\" label=\"Date de recherche\">\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col class=\"mt-3\" cols=\"6\" sm=\"4\" @click=\"actualiser\">\r\n\t\t\t\t\t<v-btn append-icon=\"\">\r\n\t\t\t\t\t\t<v-icon>\r\n\t\t\t\t\t\t\tmdi-refresh\r\n\t\t\t\t\t\t</v-icon>Actualiser\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<v-card-text>\r\n\t\t\t\t<v-data-table :headers=\"header_invoices\" :items=\"list_invoices\" :items-per-page=\"7\" class=\"elevation-1\">\r\n\t\t\t\t</v-data-table> \r\n\t\t\t\t\r\n\t\t\t</v-card-text>\r\n\t\t</v-card>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"analysis\",\r\n\tdata: () => ({\r\n\t\theader_invoices: [\r\n\t\t\t{ text: 'Facture Idop', value: 'id_line' },\r\n\t\t\t{ text: 'Pu', value: 'created_at' },\r\n\t\t\t{ text: 'Item', value: 'title' },\r\n\t\t\t{ text: 'pu_by', value: 'pu_by' },\r\n\t\t\t{ text: 'amount_by', value: 'amount_by' },\r\n\t\t\t{ text: 'price_by', value: 'price_by' },\r\n\t\t\t{ text: 'pu_sale', value: 'pu_sale' },\r\n\t\t\t{ text: 'pu_sale', value: 'pu_sale' },\r\n\t\t\t{ text: 'amount_sale', value: 'amount_sale' },\r\n\t\t\t{ text: 'Prix Total', value: 'result' },\r\n\t\t],\r\n\t\tlist_invoices: [],\r\n\t\tcreated_at: new Date().toJSON().slice(0, 10).replace(/-/g, '-'),\r\n\t\titemSelected: '',\r\n\t\tmerchandises: [],\r\n\t}),\r\n\tmethods: {\r\n\t\tasync getAllInvoices() {\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append(\"created_at\", this.created_at)\r\n\t\t\t\tformData.append(\"itemSelected\", this.itemSelected)\r\n\t\t\t\tconst response = await axios.post('lineInvoice/getResultInvoices', formData)\r\n\t\t\t\tthis.list_invoices = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('merchandise/')\r\n\t\t\t\tthis.merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tactualiser() {\r\n\t\t\tthis.created_at = ''\r\n\t\t\tthis.itemSelected = ''\r\n\t\t\tthis.getAllInvoices()\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getAllInvoices()\r\n\t\tthis.get_stock_merchandise()\r\n\t}\r\n\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}