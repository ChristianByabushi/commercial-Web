{"ast":null,"code":"import alert from '@/components/alert.vue';\nimport { mapState } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: 'Login',\n  passwordEnable: true,\n  components: {\n    alert\n  },\n\n  data() {\n    return {\n      hidepassword: '',\n      password: '',\n      typefonction: 'info',\n      isadmin: false,\n      simularpassword: '',\n      newpassword: '',\n      email: '',\n      msgAlert: '',\n      classAlert: '',\n      activePassWord: false,\n      firstname: '',\n      lastname: '',\n      typeAlert: 'info',\n      logo: ''\n    };\n  },\n\n  props: {\n    source: String\n  },\n  methods: {\n    changetypefonction(type) {\n      this.typefonction = type;\n      this.typeAlert = 'error';\n      this.msgAlert = '';\n    },\n\n    async handleSubmit() {\n      if (this.password == '' || this.email == '') {\n        this.msgAlert = \"Veuillez d'abord remplir tous  les champs\";\n        this.classAlert = \"info\";\n        return;\n      }\n\n      try {\n        const formData = new FormData();\n        formData.append('client_id', this.email);\n        formData.append('username', this.email);\n        formData.append('client_secret', this.password);\n        formData.append('password', this.password);\n        formData.append('grant_type', 'password');\n        const response = await axios.post('user/login', formData);\n\n        if (response.data['access_token']) {\n          localStorage.setItem('token', response.data['access_token']);\n          if (this.$route.path !== '/') this.$router.push('/');\n        } else {\n          this.msgAlert = \"Mot de passe ou email incorrect\";\n        }\n      } catch (e) {\n        this.msgAlert = \"Mot de passe ou email incorrect\";\n      }\n    },\n\n    method_activePassWord() {\n      if (this.activePassWord == '') {\n        this.logo = 'lock';\n      } else {\n        this.logo = 'eye';\n      }\n\n      return this.activePassWord;\n    },\n\n    verifyFormAdd() {\n      if (this.email == '' || this.password == '' || this.firstname == '' || this.lastname == '') {\n        this.msgAlert = \"Aucun champ ne doit etre vide !\";\n        return false;\n      }\n\n      if (this.password != this.simularpassword) {\n        this.msgAlert = \"Vous devez saisir les mots de passe simulaires!\";\n        return false;\n      }\n\n      if (this.email == '' || this.firstname == '' || this.lastname == '') {\n        this.msgAlert = \"Aucun champ ne doit etre vide !\";\n        return false;\n      }\n\n      if (this.password.length < 8) {\n        this.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\";\n      } //if all work willingly then\n\n    },\n\n    async editPwdAccount() {\n      if (this.password == '' || this.newpassword == '') {\n        this.msgAlert = \" Aucn champ de mot de passe ne ne doit etre vide!\";\n        return;\n      }\n\n      if (this.password.length < 8 || this.newpassword.length < 8) {\n        this.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\";\n        return;\n      }\n\n      try {\n        const formData = new FormData();\n        formData.append('password', this.password);\n        formData.append('newpassword', this.newpassword);\n        formData.append('email', this.userInfo.email);\n        formData.append('idUser', this.userInfo.id);\n        const response = await axios.post('/humanapp/public/user/editPwdAccount', formData);\n        this.typeAlert = 'primary';\n        this.msgAlert = 'Mot de passe changé avec succès';\n        if (this.$route.path !== '/login') this.$router.push('/login');\n      } catch (e) {\n        console.log(e);\n        this.msgAlert = 'Erreur survenue, rassurez vous que le mot de passe est correct';\n      }\n    },\n\n    async addAccount() {\n      if (this.verifyFormAdd() == false) return;\n\n      try {\n        const formData = new FormData();\n        formData.append('firstname', this.firstname);\n        formData.append('lastname', this.lastname);\n        formData.append('password_confirm', this.simularpassword);\n        formData.append('password', this.password);\n        formData.append('email', this.email);\n        const response = await axios.post('/humanapp/public/user/editAccount', formData);\n        console.log(response.data);\n      } catch (e) {\n        alert(e);\n      }\n    },\n\n    verifyFormEdit() {\n      if (this.email == '' || this.password == '' || this.firstname == '' || this.lastname == '') {\n        this.msgAlert = \"Aucun champ ne doit etre vide, rechargez la page pour à partir du dahsboard ou reconnectez vous !\";\n        return false;\n      }\n\n      if (this.password.length < 8) {\n        this.typeAlert = \"primary\";\n        this.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\";\n        return false;\n      }\n    },\n\n    async editAccount() {\n      if (this.verifyFormEdit() == false) {\n        return;\n      }\n\n      ;\n\n      try {\n        const formData = new FormData();\n        formData.append('firstname', this.firstname);\n        formData.append('lastname', this.lastname);\n        formData.append('password', this.password);\n        formData.append('new_email', this.email);\n        formData.append('email', this.userInfo.email);\n        formData.append('idUser', this.userInfo.id);\n        const response = await axios.post('/humanapp/public/user/editAccount', formData);\n        this.typeAlert = 'primary';\n        this.msgAlert = 'Compte mise à jour avec succès';\n        if (this.$route.path !== '/login') this.$router.push('/login');\n      } catch (e) {\n        console.log(e);\n        this.msgAlert = 'Erreur survenue, rassurez vous que le mot de passe est correct';\n      }\n    }\n\n  },\n\n  mounted() {\n    this.$store.dispatch('getInfoUser');\n    this.email = this.userInfo.email;\n    this.lastname = this.userInfo.lastname;\n    this.firstname = this.userInfo.firstname;\n  },\n\n  computed: mapState(['userInfo']),\n\n  created() {}\n\n};","map":{"version":3,"mappings":"AAsHA;AACA;AACA;AACA;EACAA,aADA;EAEAC,oBAFA;EAGAC;IACAC;EADA,CAHA;;EAMAC;IACA;MACAC,gBADA;MAEAC,YAFA;MAGAC,oBAHA;MAIAC,cAJA;MAKAC,mBALA;MAMAC,eANA;MAOAC,SAPA;MAQAC,YARA;MASAC,cATA;MAUAC,qBAVA;MAWAC,aAXA;MAYAC,YAZA;MAaAC,iBAbA;MAcAC;IAdA;EAgBA,CAvBA;;EAwBAC;IACAC;EADA,CAxBA;EA2BAC;IACAC;MACA;MACA;MACA;IACA,CALA;;IAMA;MACA;QACA;QACA;QACA;MACA;;MAEA;QACA;QACAC;QACAA;QACAA;QACAA;QACAA;QACA;;QACA;UACAC;UACA,8BACA;QACA,CAJA,MAIA;UACA;QACA;MACA,CAfA,CAeA;QACA;MACA;IACA,CA/BA;;IAgCAC;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;IACA,CAvCA;;IAyCAC;MACA;QACA;QACA;MACA;;MAEA;QACA;QACA;MACA;;MAEA;QACA;QACA;MACA;;MAEA;QACA;MACA,CAlBA,CAmBA;;IACA,CA7DA;;IA+DA;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;;MACA;QACA;QACAH;QACAA;QACAA;QACAA;QACA;QACA;QACA;QACA,mCACA;MACA,CAXA,CAWA;QACAI;QACA;MACA;IAEA,CAxFA;;IAyFA;MACA,mCACA;;MACA;QACA;QACAJ;QACAA;QACAA;QACAA;QACAA;QACA;QACAI;MACA,CATA,CASA;QACAxB;MACA;IACA,CAxGA;;IA0GAyB;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;QACA;MACA;IACA,CApHA;;IAsHA;MACA;QACA;MACA;;MAAA;;MACA;QACA;QACAL;QACAA;QACAA;QACAA;QACAA;QACAA;QACA;QACA;QACA;QACA,mCACA;MACA,CAbA,CAaA;QACAI;QACA;MACA;IACA;;EA3IA,CA3BA;;EAwKAE;IACA;IACA;IACA;IACA;EACA,CA7KA;;EA8KAC,oBACA,UADA,EA9KA;;EAiLAC,WAEA;;AAnLA","names":["name","passwordEnable","components","alert","data","hidepassword","password","typefonction","isadmin","simularpassword","newpassword","email","msgAlert","classAlert","activePassWord","firstname","lastname","typeAlert","logo","props","source","methods","changetypefonction","formData","localStorage","method_activePassWord","verifyFormAdd","console","verifyFormEdit","mounted","computed","created"],"sourceRoot":"src/views/Authentification","sources":["account.vue"],"sourcesContent":["<template>\r\n\t<v-app>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Comptes utilisateurs</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-alert dense type=\"info\" color=\"#757575\">\r\n\t\t\tCette partie contient les informations sur la modification du compte</v-alert>\r\n\t\t<v-container>\r\n\t\t\t<v-layout align-center justify-center>\r\n\t\t\t\t<v-flex xs12 sm12 md10>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<v-btn class=\"mb-2\" @click=\"changetypefonction('info')\">Informations</v-btn>\r\n\t\t\t\t\t\t<v-btn class=\"ml-2 mb-2\" @click=\"changetypefonction('edit')\">Modifier</v-btn>\r\n\t\t\t\t\t\t<v-btn class=\"ml-2 mb-2\" @click=\"changetypefonction('pwd')\">Changer motdepasse</v-btn>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<v-card v-if=\"typefonction == 'info'\">\r\n\t\t\t\t\t\t<v-toolbar dark color=\"#757575\">\r\n\t\t\t\t\t\t\t<v-toolbar-title align-center justify-center> Information sur le compte en connexion\r\n\t\t\t\t\t\t\t</v-toolbar-title>\r\n\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t<v-toolbar align-center justify-center class=\"mt-4\">\r\n\t\t\t\t\t\t\t\t<p class=\"userinfo\">Firstname : {{ firstname }}</p>\r\n\t\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t\t<v-toolbar align-center justify-center class=\"mt-4\">\r\n\t\t\t\t\t\t\t\t<p class=\"userinfo\">lastname : {{ lastname }}</p>\r\n\t\t\t\t\t\t\t</v-toolbar>\r\n\r\n\t\t\t\t\t\t\t<v-toolbar align-center justify-center class=\"mt-4\">\r\n\t\t\t\t\t\t\t\t<p class=\"userinfo\">Email: {{ email }}</p>\r\n\t\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t\t<v-card class=\"elevation-6\" v-if=\"typefonction == 'edit'\">\r\n\t\t\t\t\t\t<v-toolbar dark color=\"#757575\">\r\n\t\t\t\t\t\t\t<v-toolbar-title align-center justify-center> Modification du compte en connexion\r\n\t\t\t\t\t\t\t</v-toolbar-title>\r\n\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t<v-form>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-account</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field name=\"firstname\" label=\"Prénom\" required type=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"premier nom\" v-model=\"firstname\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-account</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field name=\"email\" label=\"Nom\" required type=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Deuxième nom\" v-model=\"lastname\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-email</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field name=\"email\" label=\"usermail\" required type=\"text\" placeholder=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"email\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>lock</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field required name=\"password\" label=\"Mot de passe\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"password\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t\t<v-btn @click=\"editAccount()\" dense>Modifier</v-btn>\r\n\t\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-alert :type=\"typeAlert\" v-if=\"msgAlert\">\r\n\t\t\t\t\t\t\t\t\t{{ msgAlert }}\r\n\t\t\t\t\t\t\t\t</v-alert>\r\n\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t\t<v-card class=\"elevation-6\" v-if=\"typefonction == 'pwd'\">\r\n\t\t\t\t\t\t<v-toolbar dark color=\"#757575\">\r\n\t\t\t\t\t\t\t<v-toolbar-title align-center justify-center> Changer le mot de passe\r\n\t\t\t\t\t\t\t</v-toolbar-title>\r\n\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t<v-form>\r\n\t\t\t\t\t\t\t\t<v-toolbar align-center justify-center class=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"userinfo\">Email: {{ email }}</p>\r\n\t\t\t\t\t\t\t\t</v-toolbar>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>lock</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field required name=\"password\" label=\"Ancien mot de passe\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"password\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t<v-icon>lock</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-text-field required name=\"password\" label=\"Nouveau mot de passe\" type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"newpassword\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t\t\t\t\t<v-btn @click=\"editPwdAccount()\" dense>Changer</v-btn>\r\n\t\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t\t\t<v-alert :type=\"typeAlert\" v-if=\"msgAlert\">\r\n\t\t\t\t\t\t\t\t\t{{ msgAlert }}\r\n\t\t\t\t\t\t\t\t</v-alert>\r\n\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-flex>\r\n\r\n\t\t\t</v-layout>\r\n\t\t</v-container>\r\n\t</v-app>\r\n</template>\r\n\r\n<script>\r\nimport alert from '@/components/alert.vue'\r\nimport { mapState } from 'vuex'\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: 'Login',\r\n\tpasswordEnable: true,\r\n\tcomponents: {\r\n\t\talert\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thidepassword: '',\r\n\t\t\tpassword: '',\r\n\t\t\ttypefonction: 'info',\r\n\t\t\tisadmin: false,\r\n\t\t\tsimularpassword: '',\r\n\t\t\tnewpassword: '',\r\n\t\t\temail: '',\r\n\t\t\tmsgAlert: '',\r\n\t\t\tclassAlert: '',\r\n\t\t\tactivePassWord: false,\r\n\t\t\tfirstname: '',\r\n\t\t\tlastname: '',\r\n\t\t\ttypeAlert: 'info',\r\n\t\t\tlogo: ''\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\tsource: String,\r\n\t},\r\n\tmethods: {\r\n\t\tchangetypefonction(type) {\r\n\t\t\tthis.typefonction = type\r\n\t\t\tthis.typeAlert = 'error'\r\n\t\t\tthis.msgAlert = ''\r\n\t\t},\r\n\t\tasync handleSubmit() {\r\n\t\t\tif (this.password == '' || this.email == '') {\r\n\t\t\t\tthis.msgAlert = \"Veuillez d'abord remplir tous  les champs\"\r\n\t\t\t\tthis.classAlert = \"info\"\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append('client_id', this.email)\r\n\t\t\t\tformData.append('username', this.email)\r\n\t\t\t\tformData.append('client_secret', this.password)\r\n\t\t\t\tformData.append('password', this.password)\r\n\t\t\t\tformData.append('grant_type', 'password')\r\n\t\t\t\tconst response = await axios.post('user/login', formData)\r\n\t\t\t\tif (response.data['access_token']) {\r\n\t\t\t\t\tlocalStorage.setItem('token', response.data['access_token'])\r\n\t\t\t\t\tif (this.$route.path !== '/')\r\n\t\t\t\t\t\tthis.$router.push('/')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.msgAlert = \"Mot de passe ou email incorrect\"\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.msgAlert = \"Mot de passe ou email incorrect\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethod_activePassWord() {\r\n\t\t\tif (this.activePassWord == '') {\r\n\t\t\t\tthis.logo = 'lock'\r\n\t\t\t} else {\r\n\t\t\t\tthis.logo = 'eye'\r\n\t\t\t}\r\n\t\t\treturn this.activePassWord\r\n\t\t},\r\n\r\n\t\tverifyFormAdd() {\r\n\t\t\tif (this.email == '' || this.password == '' || this.firstname == '' || this.lastname == '') {\r\n\t\t\t\tthis.msgAlert = \"Aucun champ ne doit etre vide !\"\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tif (this.password != this.simularpassword) {\r\n\t\t\t\tthis.msgAlert = \"Vous devez saisir les mots de passe simulaires!\"\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tif (this.email == '' || this.firstname == '' || this.lastname == '') {\r\n\t\t\t\tthis.msgAlert = \"Aucun champ ne doit etre vide !\"\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tif ((this.password.length) < 8) {\r\n\t\t\t\tthis.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\"\r\n\t\t\t}\r\n\t\t\t//if all work willingly then\r\n\t\t},\r\n\r\n\t\tasync editPwdAccount() {\r\n\t\t\tif ((this.password == '') || (this.newpassword == '')) {\r\n\t\t\t\tthis.msgAlert = \" Aucn champ de mot de passe ne ne doit etre vide!\"\r\n\t\t\t\treturn\r\n\t\t\t} \r\n\t\t\tif (((this.password.length) < 8) || (this.newpassword.length < 8)) {\r\n\t\t\t\tthis.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\"\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append('password', this.password)\r\n\t\t\t\tformData.append('newpassword', this.newpassword)\r\n\t\t\t\tformData.append('email', this.userInfo.email)\r\n\t\t\t\tformData.append('idUser', this.userInfo.id)\r\n\t\t\t\tconst response = await axios.post('/humanapp/public/user/editPwdAccount', formData)\r\n\t\t\t\tthis.typeAlert = 'primary'\r\n\t\t\t\tthis.msgAlert = 'Mot de passe changé avec succès'\r\n\t\t\t\tif (this.$route.path !== '/login')\r\n\t\t\t\t\tthis.$router.push('/login')\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.msgAlert = 'Erreur survenue, rassurez vous que le mot de passe est correct'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tasync addAccount() {\r\n\t\t\tif (this.verifyFormAdd() == false)\r\n\t\t\t\treturn\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append('firstname', this.firstname)\r\n\t\t\t\tformData.append('lastname', this.lastname)\r\n\t\t\t\tformData.append('password_confirm', this.simularpassword)\r\n\t\t\t\tformData.append('password', this.password)\r\n\t\t\t\tformData.append('email', this.email)\r\n\t\t\t\tconst response = await axios.post('/humanapp/public/user/editAccount', formData)\r\n\t\t\t\tconsole.log(response.data)\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tverifyFormEdit() {\r\n\t\t\tif (this.email == '' || this.password == '' || this.firstname == '' || this.lastname == '') {\r\n\t\t\t\tthis.msgAlert = \"Aucun champ ne doit etre vide, rechargez la page pour à partir du dahsboard ou reconnectez vous !\"\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tif ((this.password.length) < 8) {\r\n\t\t\t\tthis.typeAlert = \"primary\"\r\n\t\t\t\tthis.msgAlert = \" Le mot de passe doit contenir au minimum 8 caractères\"\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync editAccount() {\r\n\t\t\tif (this.verifyFormEdit() == false) {\r\n\t\t\t\treturn\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tconst formData = new FormData()\r\n\t\t\t\tformData.append('firstname', this.firstname)\r\n\t\t\t\tformData.append('lastname', this.lastname)\r\n\t\t\t\tformData.append('password', this.password)\r\n\t\t\t\tformData.append('new_email', this.email)\r\n\t\t\t\tformData.append('email', this.userInfo.email)\r\n\t\t\t\tformData.append('idUser', this.userInfo.id)\r\n\t\t\t\tconst response = await axios.post('/humanapp/public/user/editAccount', formData)\r\n\t\t\t\tthis.typeAlert = 'primary'\r\n\t\t\t\tthis.msgAlert = 'Compte mise à jour avec succès'\r\n\t\t\t\tif (this.$route.path !== '/login')\r\n\t\t\t\t\tthis.$router.push('/login')\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.msgAlert = 'Erreur survenue, rassurez vous que le mot de passe est correct'\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$store.dispatch('getInfoUser')\r\n\t\tthis.email = this.userInfo.email\r\n\t\tthis.lastname = this.userInfo.lastname\r\n\t\tthis.firstname = this.userInfo.firstname\r\n\t},\r\n\tcomputed: mapState([\r\n\t\t'userInfo'\r\n\t]),\r\n\tcreated() {\r\n\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n.lockIcon {\r\n\twidth: 20px;\r\n\tpadding-bottom: 10px;\r\n\tcursor: pointer;\r\n}\r\n\r\n#logoHuman {\r\n\tposition: absolute;\r\n\theight: 120px;\r\n\twidth: 220px;\r\n\tmargin-left: 5rem;\r\n\tmargin-top: 2rem;\r\n\topacity: 0.2;\r\n}\r\n\r\np.userinfo {\r\n\tsize: 20px;\r\n\tfont-size: large\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}