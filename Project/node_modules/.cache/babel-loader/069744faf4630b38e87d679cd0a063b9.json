{"ast":null,"code":"import { mapState } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: \"newmessage\",\n  computed: mapState(['userInfo']),\n  data: () => ({\n    kind: '',\n    receiverEmail: '',\n    idReceiver: '',\n    msgs: [],\n    created_at: new Date().toJSON().slice(0, 10).replace(/-/g, '/')\n  }),\n  methods: {\n    async getMessage() {\n      try {\n        console.log(this.userInfo.id);\n        const response = await axios.post('messages/getMessages/' + this.userInfo.id);\n        this.msgs = response.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getInfoByid(item) {\n      try {\n        const response = await axios.post('user/getInfoByid/' + item);\n        return response.data.id;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  },\n\n  beforeMount() {\n    this.getMessage();\n  }\n\n};","map":{"version":3,"mappings":"AAoCA;AACA;AACA;EACAA,kBADA;EAEAC,oBACA,UADA,EAFA;EAKAC;IACAC,QADA;IAEAC,iBAFA;IAGAC,cAHA;IAIAC,QAJA;IAKAC;EALA,EALA;EAYAC;IACA;MACA;QACAC;QACA;QACA;MACA,CAJA,CAIA;QACAA;MACA;IACA,CATA;;IAUA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAA;MACA;IACA;;EAjBA,CAZA;;EAgCAC;IACA;EACA;;AAlCA","names":["name","computed","data","kind","receiverEmail","idReceiver","msgs","created_at","methods","console","beforeMount"],"sourceRoot":"src/views/messages","sources":["listemessage.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Messages</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-card>\r\n\t\t\t<v-timeline dense>\r\n\t\t\t\t<v-timeline-item v-for=\"(item, index) in msgs\" :key=\"item.idService\">\r\n\t\t\t\t\t<v-card class=\"ml-16 mb-2\" v-if=\"item.writer == userInfo.id\">\r\n\t\t\t\t\t\t<v-card-title class=\"text-h5\">\r\n\t\t\t\t\t\t\tMoi\r\n\t\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t\t<small class=\"ml-4\"> Le {{ item.created_at }}</small>\r\n\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t{{ item.message }}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t\t<v-card class=\"elevation-2 ml-1\" v-else>\r\n\t\t\t\t\t\t<v-card-title class=\"text-h5\">\r\n\t\t\t\t\t\t\t{{ item.firstname }} \r\n\t\t\t\t\t\t\t{{ item.firstname }} \r\n\r\n\t\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t\t<small class=\"ml-4\"> Le {{ item.created_at }}</small>\r\n\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t{{ item.message }}\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-timeline-item>\r\n\t\t\t</v-timeline>\r\n\t\t</v-card>\r\n\t</div>\r\n</template> \r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"newmessage\",\r\n\tcomputed: mapState([\r\n\t\t'userInfo',\r\n\t]),\r\n\tdata: () => ({\r\n\t\tkind: '',\r\n\t\treceiverEmail: '',\r\n\t\tidReceiver: '',\r\n\t\tmsgs: [],\r\n\t\tcreated_at: new Date().toJSON().slice(0, 10).replace(/-/g, '/'),\r\n\t}),\r\n\tmethods: {\r\n\t\tasync getMessage() {\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log(this.userInfo.id)\r\n\t\t\t\tconst response = await axios.post('messages/getMessages/' + this.userInfo.id)\r\n\t\t\t\tthis.msgs = response.data;\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getInfoByid(item) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('user/getInfoByid/' + item)\r\n\t\t\t\treturn response.data.id\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.getMessage()\r\n\t}\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}