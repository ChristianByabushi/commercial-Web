{"ast":null,"code":"import new_merchandise from '@/views/merchandise/new_merchandise.vue';\nimport new_stock from '@/views/merchandise/new_stock.vue';\nimport edit_merchandise from '@/views/merchandise/edit_merchandise.vue';\nimport edit_stock_item from '@/views/merchandise/edit_stock_item.vue';\nimport axios from 'axios';\nexport default {\n  name: \"Dashboard\",\n  components: {\n    new_merchandise,\n    new_stock,\n    edit_merchandise,\n    edit_stock_item\n  },\n  data: () => ({\n    dialog: false,\n    addNewMerchandise: false,\n    addNewStockItem: false,\n    editNewMerchandise: false,\n    editStockItem: false,\n    infoMerchandise: '',\n    header_merchandises: [{\n      text: 'id',\n      align: 'start',\n      sortable: false,\n      value: 'id'\n    }, {\n      text: 'Libéllé',\n      value: 'title'\n    }, {\n      text: 'Categorie',\n      value: 'categorie'\n    }, {\n      text: 'Description',\n      value: 'description'\n    }, {\n      text: 'Date',\n      value: 'created_at'\n    }, {\n      text: 'action',\n      value: 'actions'\n    }],\n    merchandises: [],\n    header_stocks: [{\n      text: 'id',\n      align: 'start',\n      sortable: false,\n      value: 'id'\n    }, {\n      text: 'Item',\n      value: 'merchandise'\n    }, {\n      text: 'P.U',\n      value: 'pu_by'\n    }, {\n      text: 'Qté',\n      value: 'qte_by'\n    }, {\n      text: 'Reduction',\n      value: 'qte_by'\n    }, {\n      text: 'Prix Total',\n      value: 'amount_by'\n    }, {\n      text: 'Date Enreg',\n      value: 'created_at'\n    }, {\n      text: 'fournisseur',\n      value: 'saler'\n    }, {\n      text: 'actions',\n      value: 'actions'\n    }],\n    stocks: []\n  }),\n  methods: {\n    async get_merchandise() {\n      try {\n        const response = await axios.post('merchandise/');\n        this.merchandises = response.data;\n      } catch (e) {\n        alert(e);\n      }\n    },\n\n    async get_stock_merchandise() {\n      try {\n        const response = await axios.post('stock_merchandise/');\n        this.merchandises = response.data;\n      } catch (e) {\n        alert(e);\n      }\n    },\n\n    async deleteMerchandiseItem(info) {\n      try {\n        if (confirm(\"Voulez vous supprimer l'item \" + info.id)) {\n          const response = await axios.post('merchandise/delete/' + info.id);\n          this.get_merchandise();\n          alert(\"Suppression réussie\");\n        }\n      } catch (e) {\n        alert(\"Il y a une erreur : \" + e.data);\n      }\n    },\n\n    edit_merchandise_Item(info) {\n      this.infoMerchandise = info;\n      this.editNewMerchandise = !this.editNewMerchandise;\n    },\n\n    setEditNewMerchandise(payload) {\n      this.editNewMerchandise = payload.editNewMerchandise;\n    },\n\n    setEditStockItem(payload) {\n      this.editStockItem = payload.editStockItem;\n      this.get_merchandise();\n    }\n\n  },\n\n  created() {\n    this.get_merchandise();\n  }\n\n};","map":{"version":3,"mappings":"AAyFA;AACA;AACA;AACA;AACA;AAEA;EACAA,iBADA;EAEAC;IACAC,eADA;IAEAC,SAFA;IAGAC,gBAHA;IAIAC;EAJA,CAFA;EAQAC;IACAC,aADA;IAEAC,wBAFA;IAGAC,sBAHA;IAIAC,yBAJA;IAKAC,oBALA;IAMAC,mBANA;IAOAC,sBACA;MACAC,UADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,CAPA;IAoBAC,gBApBA;IAsBAC,gBACA;MACAL,UADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,EAYA;MAAAH;MAAAG;IAAA,CAZA,EAaA;MAAAH;MAAAG;IAAA,CAbA,EAcA;MAAAH;MAAAG;IAAA,CAdA,CAtBA;IAuCAG;EAvCA,EARA;EAiDAC;IACA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAC;MACA;IACA,CARA;;IASA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAA;MACA;IACA,CAhBA;;IAiBA;MACA;QACA;UACA;UACA;UACAA;QACA;MACA,CANA,CAMA;QACAA;MACA;IACA,CA3BA;;IA4BAC;MACA;MACA;IACA,CA/BA;;IAgCAC;MACA;IACA,CAlCA;;IAmCAC;MACA;MACA;IACA;;EAtCA,CAjDA;;EAyFAC;IACA;EACA;;AA3FA","names":["name","components","new_merchandise","new_stock","edit_merchandise","edit_stock_item","data","dialog","addNewMerchandise","addNewStockItem","editNewMerchandise","editStockItem","infoMerchandise","header_merchandises","text","align","sortable","value","merchandises","header_stocks","stocks","methods","alert","edit_merchandise_Item","setEditNewMerchandise","setEditStockItem","created"],"sourceRoot":"src/views/merchandise","sources":["menu_merchandise.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Marchandises</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-alert dense type=\"info\" color=\"#757575\">\r\n\t\t\tCette partie contient toutes fonctions sur les affaires d'achat, de ravitaillement des marchandises\r\n\t\t</v-alert>\r\n\t\t<v-row>\r\n\t\t\t<v-col lg=\"12\" cols=\"12\">\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-row v-if=\"editStockItem\">\r\n\t\t\t\t\t\t<v-col class=\"mt-10\" cols=\"12\">\r\n\t\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t\t<edit_stock_item :info_stock_item=\"infoMerchandise\"\r\n\t\t\t\t\t\t\t\t\t@event-setting-hide-edit-stock-form=\"setEditStockItem\">\r\n\t\t\t\t\t\t\t\t</edit_stock_item>\r\n\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t<v-btn color=\"#ffff\" @click=\"addNewStockItem = !addNewStockItem; get_merchandise()\">\r\n\t\t\t\t\t\t\t<span v-if=\"addNewStockItem\">Liste des stocks</span>\r\n\t\t\t\t\t\t\t<span v-else>Ravitailler Stock</span>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-card elevation=\"2\" class=\"rounded-lg ml-4 mb-10\">\r\n\t\t\t\t\t\t\t<v-card-title>Stock</v-card-title>\r\n\t\t\t\t\t\t\t<v-card-text class>\r\n\t\t\t\t\t\t\t\t<new_stock v-if=\"addNewStockItem\" :prop_merchandises=\"merchandises\" ></new_stock>\r\n\t\t\t\t\t\t\t\t<v-data-table v-else :headers=\"header_stocks\" :items=\"stocks\" :items-per-page=\"5\"\r\n\t\t\t\t\t\t\t\t\tclass=\"elevation-1\">\r\n\t\t\t\t\t\t\t\t\t<template v-slot:item.actions=\"{ item }\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon small color=\"purple\" @click=\"editStockItem=!editStockItem\">\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-pencil\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon small class=\"mr-2\" @click.stop=\"confirmDeleteOfItem(item)\" color=\"red\">\r\n\t\t\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-col>\r\n\t\t\t<v-col lg=\"12\" cols=\"12\">\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<v-row v-if=\"editNewMerchandise\">\r\n\t\t\t\t\t\t<v-col class=\"mt-10\" cols=\"12\">\r\n\t\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t\t<edit_merchandise :info_merchandise=\"infoMerchandise\"\r\n\t\t\t\t\t\t\t\t\t@event-setting-hide-edit-merch-form=\"setEditNewMerchandise\">\r\n\t\t\t\t\t\t\t\t</edit_merchandise>\r\n\t\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t\t<v-col cols=\"2\">\r\n\t\t\t\t\t\t<v-btn color=\"#ffff\" @click=\"addNewMerchandise=!addNewMerchandise; get_merchandise()\">\r\n\t\t\t\t\t\t\t<span v-if=\"addNewMerchandise\">Liste des biens</span>\r\n\t\t\t\t\t\t\t<span v-else>Ajouter bien</span>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t\t<v-card elevation=\"2\" class=\"rounded-lg ml-2\">\r\n\t\t\t\t\t\t<v-card-title>Biens</v-card-title>\r\n\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t<new_merchandise  v-if=\"addNewMerchandise\"></new_merchandise>\r\n\t\t\t\t\t\t\t<v-data-table v-else :headers=\"header_merchandises\" :items=\"merchandises\"\r\n\t\t\t\t\t\t\t\t:items-per-page=\"5\" class=\"elevation-1\">\r\n\t\t\t\t\t\t\t\t<template v-slot:item.actions=\"{ item }\"\r\n\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t\t\t\t<v-icon small color=\"purple\" @click.stop=\"{edit_merchandise_Item(item)}\">mdi-pencil\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t\t<v-icon small color=\"red\" @click.stop=\"{deleteMerchandiseItem(item)}\">\r\n\t\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t</v-card>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-col>\r\n\t\t</v-row>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport new_merchandise from '@/views/merchandise/new_merchandise.vue'\r\nimport new_stock from '@/views/merchandise/new_stock.vue'\r\nimport edit_merchandise from '@/views/merchandise/edit_merchandise.vue'\r\nimport edit_stock_item from '@/views/merchandise/edit_stock_item.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n\tname: \"Dashboard\",\r\n\tcomponents: {\r\n\t\tnew_merchandise,\r\n\t\tnew_stock,\r\n\t\tedit_merchandise,\r\n\t\tedit_stock_item\r\n\t},\r\n\tdata: () => ({\r\n\t\tdialog: false,\r\n\t\taddNewMerchandise: false,\r\n\t\taddNewStockItem: false,\r\n\t\teditNewMerchandise: false,\r\n\t\teditStockItem: false,\r\n\t\tinfoMerchandise: '',\r\n\t\theader_merchandises: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'id',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: false,\r\n\t\t\t\tvalue: 'id',\r\n\t\t\t},\r\n\t\t\t{ text: 'Libéllé', value: 'title' },\r\n\t\t\t{ text: 'Categorie', value: 'categorie' },\r\n\t\t\t{ text: 'Description', value: 'description' },\r\n\t\t\t{ text: 'Date', value: 'created_at' },\r\n\t\t\t{ text: 'action', value: 'actions' },\r\n\t\t],\r\n\t\tmerchandises: [],\r\n\r\n\t\theader_stocks: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'id',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: false,\r\n\t\t\t\tvalue: 'id',\r\n\t\t\t},\r\n\t\t\t{ text: 'Item', value: 'merchandise' },\r\n\t\t\t{ text: 'P.U', value: 'pu_by' },\r\n\t\t\t{ text: 'Qté', value: 'qte_by' },\r\n\t\t\t{ text: 'Reduction', value: 'qte_by' },\r\n\t\t\t{ text: 'Prix Total', value: 'amount_by' },\r\n\t\t\t{ text: 'Date Enreg', value: 'created_at' },\r\n\t\t\t{ text: 'fournisseur', value: 'saler' },\r\n\t\t\t{ text: 'actions', value: 'actions' },\r\n\r\n\t\t],\r\n\t\tstocks: [],\r\n\t}),\r\n\tmethods: {\r\n\t\tasync get_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('merchandise/')\r\n\t\t\t\tthis.merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('stock_merchandise/')\r\n\t\t\t\tthis.merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync deleteMerchandiseItem(info) {\r\n\t\t\ttry {\r\n\t\t\t\tif (confirm(\"Voulez vous supprimer l'item \" + info.id)) {\r\n\t\t\t\t\tconst response = await axios.post('merchandise/delete/' + info.id)\r\n\t\t\t\t\tthis.get_merchandise()\r\n\t\t\t\t\talert(\"Suppression réussie\") \r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(\"Il y a une erreur : \" + e.data)\r\n\t\t\t}\r\n\t\t},\r\n\t\tedit_merchandise_Item(info) {\r\n\t\t\tthis.infoMerchandise = info\r\n\t\t\tthis.editNewMerchandise = !this.editNewMerchandise\r\n\t\t},\r\n\t\tsetEditNewMerchandise(payload) {\r\n\t\t\tthis.editNewMerchandise = payload.editNewMerchandise\r\n\t\t},\r\n\t\tsetEditStockItem(payload) {\r\n\t\t\tthis.editStockItem = payload.editStockItem \r\n\t\t\tthis.get_merchandise()\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.get_merchandise();\r\n\t}\r\n\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}