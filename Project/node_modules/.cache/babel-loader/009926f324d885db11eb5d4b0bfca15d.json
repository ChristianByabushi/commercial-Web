{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"listaccount\",\n  data: () => ({\n    headerUsers: [{\n      text: 'id',\n      align: 'start',\n      sortable: true,\n      value: 'id'\n    }, {\n      text: 'Nom',\n      value: 'firstname'\n    }, {\n      text: 'Prénom',\n      value: 'lastname'\n    }, {\n      text: 'email',\n      value: 'email'\n    }, {\n      text: 'Utilisateur',\n      value: 'scope'\n    }, {\n      text: 'Date de creattion',\n      value: 'created_at'\n    }, {\n      text: 'actions',\n      value: 'actions'\n    }],\n    header_usersData: [],\n    scope: null,\n    items_scope: [{\n      scope: 'agent',\n      title: 'Agent'\n    }, {\n      scope: 'decl',\n      title: 'Déclarant'\n    }, {\n      scope: '',\n      title: 'Tous'\n    }]\n  }),\n  methods: {\n    async get_users() {\n      try {\n        const response = await axios.post(\"user/getAllUsers/agent/\" + this.scope);\n        this.header_usersData = response.data;\n      } catch (e) {\n        console.log(e);\n      }\n    },\n\n    f() {\n      alert(\"zzzz\");\n    },\n\n    async deleteUser(item) {\n      let id = item.id;\n      console.log(id);\n\n      if (confirm(\"voulez-vous vraiment bloquer ce compte\")) {\n        try {\n          const response = await axios.post(\"user/delete/\" + id);\n          this.header_usersData = response.data;\n        } catch (e) {\n          console.log(e);\n        }\n\n        this.get_users();\n      }\n    }\n\n  },\n\n  beforeMount() {\n    this.get_users();\n  }\n\n};","map":{"version":3,"mappings":"AAqBA;AACA;EACAA,mBADA;EAEAC;IACAC,cACA;MACAC,UADA;MAEAC,cAFA;MAGAC,cAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;IAAA,CAPA,EAQA;MAAAH;MAAAG;IAAA,CARA,EASA;MAAAH;MAAAG;IAAA,CATA,EAUA;MAAAH;MAAAG;IAAA,CAVA,EAWA;MAAAH;MAAAG;IAAA,CAXA,EAYA;MAAAH;MAAAG;IAAA,CAZA,CADA;IAeAC,oBAfA;IAgBAC,WAhBA;IAiBAC,cACA;MACAD,cADA;MAEAE;IAFA,CADA,EAKA;MACAF,aADA;MAEAE;IAFA,CALA,EASA;MACAF,SADA;MAEAE;IAFA,CATA;EAjBA,EAFA;EAmCAC;IACA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAC;MACA;IACA,CARA;;IASAC;MACAC;IACA,CAXA;;IAYA;MACA;MACAF;;MACA;QACA;UACA;UACA;QACA,CAHA,CAGA;UACAA;QACA;;QACA;MACA;IACA;;EAxBA,CAnCA;;EA6DAG;IACA;EACA;;AA/DA","names":["name","data","headerUsers","text","align","sortable","value","header_usersData","scope","items_scope","title","methods","console","f","alert","beforeMount"],"sourceRoot":"src/views/admin","sources":["listusers.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-select name=\"\" v-model=\"scope\" :items=\"items_scope\" item-text=\"title\" label=\"Type d'utilisateur\"\r\n\t\t\titem-value=\"scope\" class=\"userSelect\">\r\n\t\t</v-select>\r\n\t\t<v-data-table :headers=\"headerUsers\" :items=\"header_usersData\" :items-per-page=\"5\" class=\"elevation-1\">\r\n\t\t\t<template v-slot:item.actions=\"{ item }\" class=\"d-flex justify-space-between align-center\">\r\n\t\t\t\t<v-btn x-small class=\"btnAction\" color=\"info\" link :to=\"{ name: 'editaccount' }\">\r\n\t\t\t\t\t<v-icon x-small color=\"purple\"> mdi-pencil\r\n\t\t\t\t\t</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn x-small class=\"btnAction\" color=\"error\"  @click=\"f(item)\">\r\n\t\t\t\t\t<v-icon x-small color> mdi-delete\r\n\t\t\t\t\t</v-icon>\r\n\t\t\t\t</v-btn>\r\n\r\n\t\t\t</template>\r\n\t\t</v-data-table>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"listaccount\",\r\n\tdata: () => ({\r\n\t\theaderUsers: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'id',\r\n\t\t\t\talign: 'start',\r\n\t\t\t\tsortable: true,\r\n\t\t\t\tvalue: 'id',\r\n\t\t\t},\r\n\t\t\t{ text: 'Nom', value: 'firstname' },\r\n\t\t\t{ text: 'Prénom', value: 'lastname' },\r\n\t\t\t{ text: 'email', value: 'email' },\r\n\t\t\t{ text: 'Utilisateur', value: 'scope' },\r\n\t\t\t{ text: 'Date de creattion', value: 'created_at' },\r\n\t\t\t{ text: 'actions', value: 'actions' },\r\n\t\t],\r\n\t\theader_usersData: [],\r\n\t\tscope: null,\r\n\t\titems_scope: [\r\n\t\t\t{\r\n\t\t\t\tscope: 'agent',\r\n\t\t\t\ttitle: 'Agent'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tscope: 'decl',\r\n\t\t\t\ttitle: 'Déclarant'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tscope: '',\r\n\t\t\t\ttitle: 'Tous'\r\n\t\t\t},\r\n\t\t]\r\n\r\n\t}),\r\n\tmethods: {\r\n\t\tasync get_users() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\"user/getAllUsers/agent/\" + this.scope)\r\n\t\t\t\tthis.header_usersData = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t}, \r\n\t\tf(){\r\n\t\t\talert(\"zzzz\")\r\n\t\t},\r\n\t\tasync deleteUser(item) {\r\n\t\t\tlet id = item.id \r\n\t\t\tconsole.log(id)\r\n\t\t\tif (confirm(\"voulez-vous vraiment bloquer ce compte\")) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await axios.post(\"user/delete/\" + id)\r\n\t\t\t\t\tthis.header_usersData = response.data\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t\tthis.get_users()\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tthis.get_users()\r\n\t}\r\n}\r\n</script>\r\n<style>\r\n.userSelect {\r\n\twidth: 35%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}