{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"Invoice\",\n  components: {},\n  data: () => ({\n    indexEdit: null,\n    editOradd: null,\n    client: '',\n    decrease: '',\n    pu_sale: '',\n    amount_sale: '',\n    id_stock: '',\n    created_at: '',\n    stock_merchandises: [],\n    pu_by: '',\n    amount_by: '',\n    listOfitemInvoices: [],\n    desserts: [{\n      name: 'Frozen Yogurt',\n      calories: 159\n    }]\n  }),\n  methods: {\n    tryf() {\n      console.log(this.listOfitemInvoices);\n    },\n\n    submitNewItemInvoice() {\n      if (this.id_stock == '' || this.pu_sale == '' || this.amount_sale == '') {\n        alert('Veuillez completer tous les éléments du formulaire');\n        return;\n      } //case of edit now\n\n\n      if (this.indexEdit == '') {\n        this.listOfitemInvoices[this.indexEdit].pu_sale = this.pu_sale;\n        this.listOfitemInvoices[this.indexEdit].amount_sale = this.amount_sale;\n        this.listOfitemInvoices[this.indexEdit].id_stock = this.id_stock;\n      } //case of add \n      else {\n        this.listOfitemInvoices.push({\n          id_stock: this.id_stock,\n          title: this.id_stock,\n          pu_sale: this.pu_sale,\n          amount_sale: this.amount_sale\n        }); //to make difference with edit task\n\n        this.indexEdit == '';\n      } //initiation\n\n\n      this.title = '';\n      this.pu_sale = '';\n      this.amount_sale = '';\n      this.id_stock = '';\n      this.pu_by = '';\n    },\n\n    editItemInvoice(index) {\n      this.title = this.listOfitemInvoices[index].title;\n      this.pu_sale = this.listOfitemInvoices[index].pu_sale;\n      this.amount_sale = this.listOfitemInvoices[index].amount_sale;\n      this.id_stock = this.listOfitemInvoices[index].id_stock;\n      this.indexEdit = index;\n    },\n\n    deleteItemInvoice(index) {\n      this.listOfitemInvoices.splice(index, 1);\n    },\n\n    seek_amount_and_price_stock() {\n      this.stock_merchandises.forEach(element => {\n        if (element.id_stock == this.id_stock) {\n          this.pu_by = element.pu_by;\n          this.amount_by = element.amount_by;\n        }\n      });\n    },\n\n    async get_stock_merchandise() {\n      try {\n        const response = await axios.post('stock_merchandise/');\n        this.stock_merchandises = response.data;\n      } catch (e) {\n        alert(e);\n      }\n    }\n\n  },\n\n  created() {\n    this.get_stock_merchandise();\n  }\n\n};","map":{"version":3,"mappings":"AAiGA;AACA;EACAA,eADA;EAEAC,cAFA;EAIAC;IACAC,eADA;IAEAC,eAFA;IAGAC,UAHA;IAIAC,YAJA;IAKAC,WALA;IAMAC,eANA;IAOAC,YAPA;IAQAC,cARA;IASAC,sBATA;IAUAC,SAVA;IAWAC,aAXA;IAYAC,sBAZA;IAaAC,WACA;MACAf,qBADA;MAEAgB;IAFA,CADA;EAbA,EAJA;EAwBAC;IACAC;MACAC;IACA,CAHA;;IAKAC;MAEA;QACAC;QACA;MACA,CALA,CAOA;;;MACA;QACA;QACA;QACA;MACA,CAJA,CAMA;MANA,KAOA;QACA;UACAZ,uBADA;UAEAa,oBAFA;UAGAf,qBAHA;UAIAC;QAJA,GADA,CAOA;;QACA;MACA,CAxBA,CA0BA;;;MACA;MACA;MACA;MACA;MACA;IACA,CArCA;;IAuCAe;MACA;MACA;MACA;MACA;MACA;IACA,CA7CA;;IA8CAC;MACA;IACA,CAhDA;;IAiDAC;MACA;QACA;UACA;UACA;QACA;MACA,CALA;IAMA,CAxDA;;IAyDA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAJ;MACA;IACA;;EAhEA,CAxBA;;EA0FAK;IACA;EACA;;AA5FA","names":["name","components","data","indexEdit","editOradd","client","decrease","pu_sale","amount_sale","id_stock","created_at","stock_merchandises","pu_by","amount_by","listOfitemInvoices","desserts","calories","methods","tryf","console","submitNewItemInvoice","alert","title","editItemInvoice","deleteItemInvoice","seek_amount_and_price_stock","created"],"sourceRoot":"src/views/invoices","sources":["invoice.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<v-subheader class=\"d-flex justify-space-between align-center\">\r\n\t\t\t<h3>Facture et ventes</h3>\r\n\t\t</v-subheader>\r\n\t\t<v-alert dense type=\"info\" color=\"indigo\">\r\n\t\t\tCette partie du HumanApp porte sur les fonctionnalités liées à la gestion des factures et vente\r\n\t\t</v-alert>\r\n\t\t<v-card>\r\n\t\t\t<v-card-title class=\"d-flex-inline\">\r\n\t\t\t\t<v-row>\r\n\t\t\t\t\t<h5>Société, Human Atm, Facturation</h5>\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-title>\r\n\t\t</v-card>\r\n\t\t<v-container>\r\n\t\t\t<v-row>\r\n\t\t\t\t<v-col cols=\"5\" sm=\"3\">\r\n\t\t\t\t\t<v-select :items=\"stock_merchandises\" @change=\"seek_amount_and_price_stock()\" item-text=\"title\"\r\n\t\t\t\t\t\tv-model=\"id_stock\" item-value=\"id_stock\" label=\"Item\">\r\n\t\t\t\t\t</v-select>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-text-field v-model=\"pu_sale\" type=\"number\" step=\"any\" label=\"Pu\" required>\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col>\r\n\t\t\t\t\t<v-text-field v-model=\"amount_sale\" type=\"number\" step=\"any\" label=\"Qté\" required>\r\n\t\t\t\t\t</v-text-field>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"2\" sm=\"4\">\r\n\t\t\t\t\t<v-alert type=\"info\" color=\"indigo\"> Prix total: {{Number(amount_sale*pu_sale).toFixed(4)}}\r\n\t\t\t\t\t</v-alert>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"12\" sm=\"6\" class=\"d-flex\" v-if=\"pu_by\">\r\n\t\t\t\t\t<v-alert color=\"dense\" type=\"info\">Le pua de ce bien était de {{pu_by}} $ et il restait\r\n\t\t\t\t\t\t{{amount_by}} unités </v-alert>\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col cols=\"12\" sm=\"6\">\r\n\t\t\t\t\t<v-btn @click=\"submitNewItemInvoice()\" class=\"mb-1\">\r\n\t\t\t\t\t\t<span v-if=\"indexEdit\">Editer</span>\r\n\t\t\t\t\t\t<span v-else>Ajouter</span>\r\n\t\t\t\t\t</v-btn>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<v-form method=\"post\" class=\"mb-4\">\r\n\t\t\t\t<v-simple-table>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tIdStock\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tMarchandise\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tPu\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tQté\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tPrix Total\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th class=\"text-left\">\r\n\t\t\t\t\t\t\t\tActions\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr v-for=\"(item, index) in listOfitemInvoices\" :key=\"item.id_stock\">\r\n\t\t\t\t\t\t\t<td>{{ item.id_stock }}</td>\r\n\t\t\t\t\t\t\t<td>{{ item.title }}</td>\r\n\t\t\t\t\t\t\t<td>{{ item.pu_sale }}</td>\r\n\t\t\t\t\t\t\t<td>{{ item.amount_sale }}</td>\r\n\t\t\t\t\t\t\t<td>{{ Number(item.pu_sale*item.amount_sale).toFixed(4) }}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<v-icon small color=\"purple\" @click=\"editItemInvoice(index)\">mdi-pencil\r\n\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t\t<v-icon small color=\"red\" @click=\"deleteItemInvoice(index)\">\r\n\t\t\t\t\t\t\t\t\tmdi-delete\r\n\t\t\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</v-simple-table>\r\n\t\t\t\t<v-btn @click.stop=\"tryf()\" class=\"d-flex mt-10\">\r\n\t\t\t\t\tEnregistrer\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-form>\r\n\r\n\t\t</v-container>\r\n\r\n\r\n\t</div>\r\n</template> \r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n\tname: \"Invoice\",\r\n\tcomponents: {\r\n\t},\r\n\tdata: () => ({\r\n\t\tindexEdit: null,\r\n\t\teditOradd: null,\r\n\t\tclient: '',\r\n\t\tdecrease: '',\r\n\t\tpu_sale: '',\r\n\t\tamount_sale: '',\r\n\t\tid_stock: '',\r\n\t\tcreated_at: '',\r\n\t\tstock_merchandises: [],\r\n\t\tpu_by: '',\r\n\t\tamount_by: '',\r\n\t\tlistOfitemInvoices: [],\r\n\t\tdesserts: [\r\n\t\t\t{\r\n\t\t\t\tname: 'Frozen Yogurt',\r\n\t\t\t\tcalories: 159,\r\n\t\t\t}\r\n\t\t],\r\n\t}),\r\n\tmethods: {\r\n\t\ttryf() {\r\n\t\t\tconsole.log(this.listOfitemInvoices)\r\n\t\t},\r\n\r\n\t\tsubmitNewItemInvoice() {\r\n\r\n\t\t\tif (this.id_stock == '' || this.pu_sale == '' || this.amount_sale == '') {\r\n\t\t\t\talert('Veuillez completer tous les éléments du formulaire')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t//case of edit now\r\n\t\t\tif (this.indexEdit == '') {\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].pu_sale = this.pu_sale;\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].amount_sale = this.amount_sale;\r\n\t\t\t\tthis.listOfitemInvoices[this.indexEdit].id_stock = this.id_stock;\r\n\t\t\t}\r\n\r\n\t\t\t//case of add \r\n\t\t\telse {\r\n\t\t\t\tthis.listOfitemInvoices.push({\r\n\t\t\t\t\tid_stock: this.id_stock,\r\n\t\t\t\t\ttitle: this.id_stock,\r\n\t\t\t\t\tpu_sale: this.pu_sale,\r\n\t\t\t\t\tamount_sale: this.amount_sale,\r\n\t\t\t\t})\r\n\t\t\t\t//to make difference with edit task\r\n\t\t\t\tthis.indexEdit == ''\r\n\t\t\t}\r\n\r\n\t\t\t//initiation\r\n\t\t\tthis.title = ''\r\n\t\t\tthis.pu_sale = ''\r\n\t\t\tthis.amount_sale = ''\r\n\t\t\tthis.id_stock = ''\r\n\t\t\tthis.pu_by = ''\r\n\t\t},\r\n\r\n\t\teditItemInvoice(index) {\r\n\t\t\tthis.title = this.listOfitemInvoices[index].title;\r\n\t\t\tthis.pu_sale = this.listOfitemInvoices[index].pu_sale;\r\n\t\t\tthis.amount_sale = this.listOfitemInvoices[index].amount_sale;\r\n\t\t\tthis.id_stock = this.listOfitemInvoices[index].id_stock;\r\n\t\t\tthis.indexEdit = index\r\n\t\t},\r\n\t\tdeleteItemInvoice(index) {\r\n\t\t\tthis.listOfitemInvoices.splice(index, 1);\r\n\t\t},\r\n\t\tseek_amount_and_price_stock() {\r\n\t\t\tthis.stock_merchandises.forEach(element => {\r\n\t\t\t\tif (element.id_stock == this.id_stock) {\r\n\t\t\t\t\tthis.pu_by = element.pu_by\r\n\t\t\t\t\tthis.amount_by = element.amount_by\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync get_stock_merchandise() {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post('stock_merchandise/')\r\n\t\t\t\tthis.stock_merchandises = response.data\r\n\t\t\t} catch (e) {\r\n\t\t\t\talert(e)\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.get_stock_merchandise()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nthead {\r\n\tborder: 2px solid rgb(220, 217, 217);\r\n\tborder-collapse: collapse;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}